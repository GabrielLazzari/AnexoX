{% extends 'index.html' %}

{% block conteudo %}
<div class="livro-detalhes">
    <div class="livro-container">
        <!-- Se√ß√£o principal do livro -->
        <div class="livro-principal">
            <!-- Imagem do livro -->
            <div class="livro-imagem">
                <img src="{{livro.img}}" alt="Senhora" class="capa-livro">
            </div>
            
            <!-- Informa√ß√µes do livro -->
            <div class="livro-info">
                <h1 class="livro-titulo">T√≠tulo: {{ livro.titulo|default("Senhora") }}</h1>
                <div class="livro-dados">
                    <p><strong>Autor:</strong> {{ livro.autor|default("Jos√© de Alencar") }}</p>
                    <p><strong>Editora:</strong> {{ livro.editora|default("Saraiva") }}</p>
                    <p><strong>Data Publica√ß√£o:</strong> {{ livro.data_publicacao|default("01/01/1874") }}</p>
                    <p><strong>Estilo:</strong> {{ livro.estilo|default("Romance") }}</p>
                    <p><strong>N√∫mero:</strong> {{ livro.numero|default("1") }}</p>
                </div>
            </div>
            
            <!-- A√ß√µes do livro -->
            <div class="livro-acoes">
                <div class="reacoes-container">
                    <button class="btn-reacao emoji-btn" title="Muito bom">üòç</button>
                    <button class="btn-reacao emoji-btn" title="Bom">üòä</button>
                    <button class="btn-reacao emoji-btn" title="Ok">üòê</button>
                    <button class="btn-reacao emoji-btn" title="Ruim">üòï</button>
                    <button class="btn-reacao emoji-btn" title="Muito ruim">üò†</button>
                    <button class="btn-reacao emoji-btn" title="Terr√≠vel">üò°</button>
                </div>
                <div class="acoes-principais">
                    <button class="btn-acao" title="Compartilhar">
                        <img src="static/icones/share-social-outline.svg" class="svg-sm">
                    </button>
                    <button class="btn-acao" title="Favoritar" onclick="abrirSalvarLivro('${livro.id}', this)">
                        <img src="static/icones/bookmark-outline.svg" class="svg-sm">
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Descri√ß√£o -->
        <div class="livro-descricao">
            <h2>Descri√ß√£o</h2>
            <p>{{ livro.descricao|default("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla iaculis urna a felis hendrerit efficitur. Curabitur nec lorem diam. Suspendisse id mattis diam, sed efficitur diam. Duis efficitur velit id est porta, ac semper lectus ullamcorper. Curabitur mollis nibh at est egestas viverra. Donec in tempus orci. Donec ullamcorper venenatis sagittis.") }}</p>
        </div>
        
        <!-- Se√ß√£o de coment√°rios -->
        <div class="comentarios-secao">
            <div class="comentarios-header">
                <h2>Coment√°rios</h2>
                <button class="btn-comentario" title="Adicionar coment√°rio">
                    <img src="static/icones/text-outline.svg" class="svg-sm">
                </button>
            </div>
            
            <!-- Formul√°rio para novo coment√°rio -->
            <div class="novo-comentario" style="display: none;">
                <div class="comentario-form">
                    <div class="usuario-avatar">
                        <img src="static/imagens/usuarios/default.jpg" alt="Seu avatar" class="avatar-pequeno">
                    </div>
                    <div class="comentario-input">
                        <input type="text" placeholder="Aten√ß√£o! Spoiler! Clique aqui para visualizar o coment√°rio." class="input-comentario">
                        <div class="comentario-acoes-form">
                            <button class="btn-enviar-comentario">Enviar</button>
                            <button class="btn-cancelar-comentario">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Lista de coment√°rios -->
            <div class="comentarios-lista">
                {% if comentarios %}
                    {% for comentario in comentarios %}
                    <div class="comentario">
                        <img src="static/imagens/usuarios/feliz.png" alt="{{ comentario.usuario.nome|default('Heading') }}" class="avatar-pequeno">
                        <div class="comentario-conteudo">
                            <div class="comentario-cabecalho">
                                <div class="usuario-nome">{{ comentario.usuario.nome|default("Heading") }}</div>
                                <div class="comentario-opcoes">
                                    <button class="btn-opcoes" title="Mais op√ß√µes">
                                        <img src="static/css/icones/ellipsis-vertical-outline.svg" class="svg-sm">
                                    </button>
                                </div>
                            </div>
                            <div class="comentario-texto">
                                {{ comentario.texto|default("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore.") }}
                            </div>
                            <div class="comentario-acoes">
                                <button class="btn-reagir" title="Curtir">
                                    <img src="static/icones/heart-outline.svg" class="svg-sm">
                                </button>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <!-- Coment√°rios de exemplo -->
                    <div class="comentario">
                        <div class="usuario-avatar">
                            <img src="static/imagens/usuarios/default.jpg" alt="Usu√°rio" class="avatar-pequeno">
                        </div>
                        <div class="comentario-conteudo">
                            <div class="comentario-cabecalho">
                                <div class="usuario-nome">Heading</div>
                                <div class="comentario-opcoes">
                                    <button class="btn-opcoes" title="Mais op√ß√µes">
                                        <img src="static/css/icones/ellipsis-vertical-outline.svg" class="svg-sm">
                                    </button>
                                </div>
                            </div>
                            <div class="comentario-texto spoiler">
                                Aten√ß√£o! Spoiler! Clique aqui para visualizar o coment√°rio.
                            </div>
                            <div class="comentario-acoes">
                                <button class="btn-reagir" title="Curtir">
                                    <img src="static/icones/heart-outline.svg" class="svg-sm">
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="comentario">
                        <div class="usuario-avatar">
                            <img src="static/imagens/usuarios/default.jpg" alt="Usu√°rio" class="avatar-pequeno">
                        </div>
                        <div class="comentario-conteudo">
                            <div class="comentario-cabecalho">
                                <div class="usuario-nome">Heading</div>
                                <div class="comentario-opcoes">
                                    <button class="btn-opcoes" title="Mais op√ß√µes">
                                        <img src="static/css/icones/ellipsis-vertical-outline.svg" class="svg-sm">
                                    </button>
                                </div>
                            </div>
                            <div class="comentario-texto">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore.
                            </div>
                            <div class="comentario-acoes">
                                <button class="btn-reagir" title="Curtir">
                                    <img src="static/icones/heart-outline.svg" class="svg-sm">
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="comentario">
                        <div class="usuario-avatar">
                            <img src="static/imagens/usuarios/default.jpg" alt="Usu√°rio" class="avatar-pequeno">
                        </div>
                        <div class="comentario-conteudo">
                            <div class="comentario-cabecalho">
                                <div class="usuario-nome">Heading</div>
                                <div class="comentario-opcoes">
                                    <button class="btn-opcoes" title="Mais op√ß√µes">
                                        <img src="static/css/icones/ellipsis-vertical-outline.svg" class="svg-sm">
                                    </button>
                                </div>
                            </div>
                            <div class="comentario-texto">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.
                            </div>
                            <div class="comentario-acoes">
                                <button class="btn-reagir" title="Curtir">
                                    <img src="static/icones/heart-outline.svg" class="svg-sm">
                                </button>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<script src="static/js/livro.js"></script>
{% endblock %}